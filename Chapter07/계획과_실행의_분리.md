# Chapter07 계획과 실행의 분리 - LangChain의 계획과 실행 에이전트를 활용한 스마트 스케쥴러 작성

LangChain의 계획과 실행 에이전트는 계획과 해결 인지 기반 체계를 바탕으로 하고 있음
LangChain의 초기 에이전트는 모두 ReAct 기반 체계를 바탕으로 설계되었고, 따라서 이러한 에이전트를 행동 에이전트라고 부름

에이전트는 사용자의 입력을 받으면 먼저 사용할 도구와 도구에 전달할 내용을 고민한 후, 해당 도구를 호출하고 그 결과를 기록
그 결과에 따라 에이전트는 다시 도구, 도구 입력, 관찰 기록을 바탕으로 다음에 어떤 단계를 취할지 결정하는 과정을 반복
에이전트가 작업이 완료되었거나 더 이상 작업을 진행할 수 없어 더 이상 도구를 사용할 필요가 없다고 판단하면 사용자에게 직접 응답을 제공함

but, 최종 목표에 집중하는 동시에 이전 단계도 기억하고 추론할 수 있게 하고 대량의 프롬프트가 추가되고 도구 사용법에 대한 지침이 추가되면서 
요구사항의 증가와 복잡성에 직면하여 한계를 부딪히게 되었고, 결국 몇 차례의 ReAct순환을 거치며 문제가 발생하기 시작함

이를 해결하기 위해 제로샷 학습과 사고의 연쇄가 있음
1. 제로샷 학습
- 머신러닝 모델이 학습 단계에서 접한 적 없는 데이터나 작업을 인식하고 처리할 수 있도록 해주는 방법.
- 모델의 일반화 능력에 의존하며, 기존 지식과 이해를 바탕으로 새로운 개념이나 작업을 추론하는 능력
2. 사고의 연쇄
- 인간의 문제 해결 과정을 모방하는 방법으로 중간 단계와 설명을 생성하여 최종적인 답을 도출함
- 복잡한 문제를 해결할 때 추론 과정을 보여줌으로써 문제 해결의 정확성과 설명 가능성을 높이는데 도움을 줌

계획과 해결 인지 기반 체계는 LLM이 두 개의 단계를 거쳐 문제를 해결하도록 요구함
- 먼저 문제 해결을 위한 계획을 전부 세우고
- 그 계획을 기반으로 단계별 행동 방안을 생성한 다음, 생성된 방안을 실행하여 답을 찾는 방식

LangChain의 계획과 실행 에이전트 기반 체계는 계획자(planner)와 실행자(executor)로 구성됨
계획자는 LLM이며, 추론 능력으 활용해야 할 일과 작업 완료에 영향을 미칠 수 있는 예외 상황을 계획함
실행자는 다양한 가용 자원과 도구를 깊이 이해하여 가장 적절한 실행 경로를 선택해야 하며 LangChain구현에서 실행자는 ReAct에이전트임

