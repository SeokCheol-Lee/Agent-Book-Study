# Chapter07 계획과 실행의 분리 - LangChain의 계획과 실행 에이전트를 활용한 스마트 스케쥴러 작성

## 1. 에이전트 패러다임의 변화: 행동에서 계획으로

초기의 LangChain 에이전트는 주로 **ReAct(Reason + Act)** 체계에 의존했습니다. 하지만 복잡한 문제에 직면하며 한계가 드러났고, 이를 극복하기 위해 '계획과 실행의 분리'라는 개념이 도입되었습니다.

### **기존 ReAct 에이전트의 한계**

* **작동 방식:** [사고 → 도구 선택 → 실행 → 관찰]의 루프를 반복.
* **문제점:** 단계가 많아질수록 초기 목표를 상실하거나, 방대한 프롬프트로 인해 추론 능력이 저하되는 '루프의 함정'에 빠지기 쉬움.
* **해결을 위한 기초 기술:**
* **제로샷 학습(Zero-shot Learning):** 학습 데이터에 없던 작업도 기존 지식을 활용해 즉석에서 추론.
* **사고의 연쇄(Chain of Thought):** 중간 단계의 추론 과정을 생성하여 복잡한 문제의 정확도를 높임.



---

## 2. 계획과 실행(Plan-and-Execute) 구조

이 체계는 인간이 복잡한 프로젝트를 수행할 때 **"전체 계획을 먼저 세우고 실행"**하는 방식을 모방합니다.

### **핵심 구성 요소**

| 구분 | 역할 | 특징 |
| --- | --- | --- |
| **계획자 (Planner)** | **전략 수립** | LLM의 추론 능력을 극대화하여 전체 작업 리스트를 작성하고 예외 상황을 고려함. |
| **실행자 (Executor)** | **작업 수행** | 계획자가 세운 단계별 과제를 해결. LangChain에서는 주로 **ReAct 에이전트**가 이 역할을 담당함. |

---

## 3. 계획 기반 체계의 문제 해결 프로세스

1. **계획 단계 (Planning):** 사용자의 요청을 분석하여 필요한 모든 단계를 리스트업함.
2. **단계별 실행 (Execution):** 실행자가 도구(Search, Calculator 등)를 활용하여 각 계획을 완수함.
3. **결과 통합 및 재계획:** 필요시 실행 결과를 바탕으로 계획을 수정하거나 최종 답변을 생성함.